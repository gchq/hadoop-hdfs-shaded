language: java
jdk: openjdk8
dist: xenial # jdk8 not availble on newer distros

script: ./travis.script.sh

# Push to GitHub releases - the key was generated by the Travis CLI.
deploy:
  provider: releases
  api_key:
    # travis encrypt -r gchq/hadoop-hdfs-shaded <github personal access token>
    secure: P1l+l95XJnuiwWtxzba4Z0nykAC1O5Nc3EQpnmOEGIZLf0Wtf4C9qm249+OenGj/Xf+HbVzQQBpF3OsuG7YlkkwhGgwl0mYbpObrFJy0gEzBLnTdYT6CUhaBcWmIDlHUcnO8KzDgkNYCzLab+8N/ycI770AwDuyMjpMcd2/SgoGZxNVJpejvd68g6uq7c4WhEm9Alo2sZcKzU7CAzGo/5BaWJeCt0jaKCvVdP0zDxSpDB4xcykeC3Xaqsv9/J9vDbiYY8pMuvqdfruJ5LVtpD8LDY7N4lwGaZKjrya32+b8s5FwMCA+lYGysGHI27uH5j/helXGijmcJT8QUUccgf5zgO2ZKhVernoF1Oz/bHOFONlV+kA3gDYt4An6JRmgcC2a5GQEjbGjXPBuzASW5K+Yi+EYVtEM6AyHrdrfFqeZo3bfZUBsTwrqaE1T+U+EzGNOBJKTQyOydfDX3nUQql/O8virUWtDjA3Ag1JyexNSoV07cZUKOZl6A79U1rZvzlYddMIbyg/hcJoF2n7mO2TAVvTAyb8Q6Mf01CxSB0kiJhp9yL35wywqY01OrOz5xV5X7AgQfmoRVu9RZTOiyL+ESQiNG9oJLVO/Xia4mIWPjUahvpZZ1hL/o0/J3T9yMj1mjYWW1Ic0RvxGaaVDVslAmyVf5RXdox0in/OLMq+o=
  file_glob: true
  file: build/libs/hadoop-hdfs-shaded-*-.jar
  skip_cleanup: true
  on:
    tags: true

cache:
  directories:
  - .autoconf
  - $HOME/.m2
  - $HOME/.gradle/wrapper
  - $HOME/.gradle/caches/
